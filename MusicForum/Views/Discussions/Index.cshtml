@model IEnumerable<MusicForum.Models.Discussion>

@{
    ViewData["Title"] = "Index";
}

<div class="home-header" style="text-align: center; font-size: 2rem; font-weight: bold; margin-bottom: 10px;">
    RPM
</div>

<p style="text-align: center; font-size: 1.2rem; color: #555;">
    Share your thoughts & ideas
    <hr style="margin: 10px 0;" />
</p>

<div class="create-button" style="text-align: center; margin-bottom: 20px;">
    <button class="create-button" style="padding: 10px 20px; font-size: 1rem;" onclick="location.href='@Url.Action("Create")'">Create New</button>
</div>

<div class="main-content" style="display: flex; flex-direction: column; gap: 20px; margin: 0 auto; max-width: 800px;">

    @foreach (var discussion in Model)
    {
        string imageUrl = Url.Content("/photos/" + discussion.ImageFileName);

        <div class="discussion-row" style="display: flex; flex-direction: column; align-items: flex-start; border: 1px solid #ddd; padding: 15px; border-radius: 5px; gap: 10px;">
            <div class=".details-thumbnail" style="align-self: center;">
                <img src="@imageUrl" class="form-thumbnail" alt="@discussion.Title" style="width: 500px; height: 500px; object-fit: cover; border: 3px solid #ccc; border-radius: 5px;" />
            </div>

            <div class="discussion-content-container" style="width: 100%;">
                <div class="discussion-title" style="font-size: 1.5rem; font-weight: bold; color: #333; text-align: center; margin-bottom: 10px;">
                    @Html.DisplayFor(modelItem => discussion.Title)
                </div>
                <div class="discussion-content" style="font-size: 1rem; color: #555; text-align: justify; margin-bottom: 10px;">
                    @Html.DisplayFor(modelItem => discussion.Content)
                </div>
                <div class="discussion-created" style="font-size: 0.9rem; color: #888; text-align: right;">
                    @Html.DisplayFor(modelItem => discussion.CreateDate)
                </div>
            </div>

            <div class="action-buttons" style="display: flex; gap: 10px; justify-content: center; margin-top: 10px;">
                <button class="create-button" style="padding: 5px 15px; font-size: 0.9rem;" onclick="location.href='@Url.Action("Edit", new { id = discussion.DiscussionId })'">Edit</button>
                <button class="create-button" style="padding: 5px 15px; font-size: 0.9rem;" onclick="location.href='@Url.Action("Delete", new { id = discussion.DiscussionId })'">Delete</button>
            </div>
        </div>
    }
</div>
